import{g as e,d as t,w as n}from"./paths.3O7iwuRh.js";let o,r;function s(e){if("undefined"==typeof document)return;clearTimeout(o),clearTimeout(r);const t=document.createElement("style"),n=document.createTextNode("* {\n     -webkit-transition: none !important;\n     -moz-transition: none !important;\n     -o-transition: none !important;\n     -ms-transition: none !important;\n     transition: none !important;\n  }");t.appendChild(n);const s=()=>document.head.appendChild(t),i=()=>document.head.removeChild(t);return void 0!==window.getComputedStyle?(s(),e(),window.getComputedStyle(t).opacity,void i()):void 0!==window.requestAnimationFrame?(s(),e(),void window.requestAnimationFrame(i)):(s(),void(o=window.setTimeout(()=>{e(),r=window.setTimeout(i,120)},120)))}function i(e){return e.filter(e=>e.length>0)}const c={getItem:e=>null,setItem:(e,t)=>{}},u="undefined"!=typeof document,a=["dark","light","system"],m=n("mode-watcher-mode"),d=n("mode-watcher-theme"),l=function(){const t="system",o=u?localStorage:c,r=o.getItem(i());let s=L(r)?r:t;function i(){return e(m)}const{subscribe:a,set:d}=n(s,()=>{if(!u)return;const e=e=>{if(e.key!==i())return;const n=e.newValue;L(n)?d(s=n):d(s=t)};return addEventListener("storage",e),()=>removeEventListener("storage",e)});return{subscribe:a,set:function(e){d(s=e),o.setItem(i(),s)}}}(),f=function(){let e=!0;const{subscribe:t,set:o}=n(void 0,()=>{if(!u)return;const t=t=>{e&&o(t.matches?"light":"dark")},n=window.matchMedia("(prefers-color-scheme: light)");return n.addEventListener("change",t),()=>n.removeEventListener("change",t)});return{subscribe:t,query:function(){if(!u)return;const e=window.matchMedia("(prefers-color-scheme: light)");o(e.matches?"light":"dark")},tracking:function(t){e=t}}}(),h=n(void 0),g=function(){const t=u?localStorage:c,o=t.getItem(s());let r=null==o?"":o;function s(){return e(d)}const{subscribe:i,set:a}=n(r,()=>{if(!u)return;const e=e=>{if(e.key!==s())return;const t=e.newValue;a(r=null===t?"":t)};return addEventListener("storage",e),()=>removeEventListener("storage",e)});return{subscribe:i,set:function(e){a(r=e),t.setItem(s(),r)}}}(),b=n(!0),w=n([]),p=n([]),v=function(){const{subscribe:e}=t([l,f,h,b,w,p],([e,t,n,o,r,c])=>{if(!u)return;const a="system"===e?t:e,m=i(r),d=i(c);function l(){const e=document.documentElement,t=document.querySelector('meta[name="theme-color"]');"light"===a?(m.length&&e.classList.remove(...m),d.length&&e.classList.add(...d),e.style.colorScheme="light",t&&n&&t.setAttribute("content",n.light)):(d.length&&e.classList.remove(...d),m.length&&e.classList.add(...m),e.style.colorScheme="dark",t&&n&&t.setAttribute("content",n.dark))}return o?s(l):l(),a});return{subscribe:e}}(),y=function(){const{subscribe:e}=t([g,b],([e,t])=>{if(u)return t?s(n):n(),e;function n(){document.documentElement.setAttribute("data-theme",e)}});return{subscribe:e}}();function L(e){return"string"==typeof e&&a.includes(e)}export{y as a,d as b,b as c,v as d,h as e,w as f,L as i,p as l,m,f as s,g as t,l as u};
